<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ByteMuse - Plant Disease Identification</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2c9c92;
            --primary-dark: #1a7d6b;
            --primary-light: #e0f7f5;
            --secondary: #f8b400;
            --dark: #333;
            --light: #f8f9fa;
            --gray: #666;
            --white: #ffffff;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Header Styles */
        .header {
            background: rgba(255, 255, 255, 0.95);
            color: var(--dark);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }
        
        .header.scrolled {
            padding: 0.5rem 0;
            background: rgba(255, 255, 255, 0.98);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-dark);
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo span {
            color: var(--primary);
            margin-left: 5px;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--secondary);
        }
        
        .nav {
            display: flex;
            list-style: none;
        }
        
        .nav li {
            margin-left: 25px;
            position: relative;
        }
        
        .nav a {
            color: var(--dark);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 0;
        }
        
        .nav a:hover {
            color: var(--primary);
        }
        
        .nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--primary);
            bottom: 0;
            left: 0;
            transition: var(--transition);
        }
        
        .nav a:hover::after {
            width: 100%;
        }
        
        .nav a.active {
            color: var(--primary);
        }
        
        .nav a.active::after {
            width: 100%;
        }
        
        .container {
            padding-top: 80px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Hero Section */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            background: linear-gradient(rgba(2, 146, 91, 0.979), rgba(5, 163, 124, 0.4)), url('src/hero.png') no-repeat center center/cover;
            color: var(--white);
            text-align: center;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            z-index: 2;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        .hero-btn {
            display: inline-flex;
            align-items: center;
            background-color: var(--secondary);
            color: var(--dark);
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            box-shadow: 0 4px 15px rgba(248, 180, 0, 0.3);
        }
        
        .hero-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(248, 180, 0, 0.4);
            background-color: #ffc107;
        }
        
        .hero-btn i {
            margin-right: 10px;
        }
        
        /* Section Styles */
        .section {
            padding: 25px 10px;
            position: relative;
        }
        
        .section-title {
            color: var(--primary-dark);
            margin-bottom: 50px;
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 5px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            margin: 15px auto;
            border-radius: 5px;
        }
        
        .section-subtitle {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 50px;
            font-size: 1.1rem;
            color: var(--gray);
        }
        
        /* Predict Section */
        .predict-container {
            background: var(--white);
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 40px;
            margin: 0 auto;
            max-width: 800px;
            position: relative;
            overflow: hidden;
        }
        
        .predict-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
        }
        
        .upload-area {
            border: 2px dashed var(--primary);
            border-radius: 10px;
            padding: 40px 20px;
            margin: 20px 0;
            transition: var(--transition);
            text-align: center;
            background-color: rgba(44, 156, 146, 0.05);
        }
        
        .upload-area:hover {
            background-color: rgba(44, 156, 146, 0.1);
            transform: translateY(-5px);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .upload-text {
            margin-bottom: 20px;
            color: var(--gray);
        }
        
        .button-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(44, 156, 146, 0.3);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(44, 156, 146, 0.4);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(248, 180, 0, 0.3);
        }
        
        .btn-secondary:hover {
            background-color: #ffc107;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(248, 180, 0, 0.4);
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.1rem;
            margin-top: 20px;
            background-color: var(--primary-dark);
        }
        
        .submit-btn:hover {
            background-color: #156a5a;
        }
        
        input[type="file"] {
            display: none;
        }
        
        #previewImg {
            max-width: 100%;
            max-height: 400px;
            display: none;
            margin: 20px auto;
            border-radius: 10px;
            box-shadow: var(--shadow);
            border: 3px solid var(--white);
        }
        
        /* Diseases Section */
        .disease-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .disease-card {
            background: var(--white);
            padding: 25px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border-top: 4px solid var(--primary);
        }
        
        .disease-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .disease-card h3 {
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-size: 1.2rem;
            position: relative;
            z-index: 2;
        }
        
        .disease-card p {
            color: var(--gray);
            font-size: 0.95rem;
            position: relative;
            z-index: 2;
        }
        
        .disease-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(44, 156, 146, 0.1), rgba(248, 180, 0, 0.1));
            opacity: 0;
            transition: var(--transition);
        }
        
        .disease-card:hover::before {
            opacity: 1;
        }
        
        /* Stats Section */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .stat-card {
            background: var(--white);
            padding: 30px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card h3 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .stat-value {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-card p {
            color: var(--gray);
            font-size: 0.95rem;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }
        
        /* About Section */
        .about-content {
            background: var(--white);
            border-radius: 15px;
            padding: 50px;
            box-shadow: var(--shadow);
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        
        .about-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(44, 156, 146, 0.05), rgba(248, 180, 0, 0.05));
            z-index: 1;
        }
        
        .about-text {
            position: relative;
            z-index: 2;
            text-align: center;
        }
        
        .about-text p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: var(--gray);
        }
        
        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
            color: var(--white);
            padding: 50px 20px 30px;
            text-align: center;
            position: relative;
        }
        
        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 10px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .footer-logo {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
            color: var(--white);
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .footer-links a {
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
            opacity: 0.8;
        }
        
        .footer-links a:hover {
            opacity: 1;
            text-decoration: underline;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .social-links a {
            color: var(--white);
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            transform: translateY(-5px);
            color: var(--secondary);
        }
        
        .copyright {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Camera Modal */
        #cameraModal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
        }
        
        .modal-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            width: 100%;
            padding: 20px;
        }
        
        #cameraView {
            max-width: 100%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.1);
        }
        
        .camera-controls {
            margin-top: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .camera-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--transition);
            border: none;
        }
        
        .capture-btn {
            background-color: var(--secondary);
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(248, 180, 0, 0.3);
        }
        
        .capture-btn:hover {
            background-color: #ffc107;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(248, 180, 0, 0.4);
        }
        
        .cancel-btn {
            background-color: #f44336;
            color: var(--white);
            box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3);
        }
        
        .cancel-btn:hover {
            background-color: #e53935;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(244, 67, 54, 0.4);
        }
        
        .camera-btn i {
            margin-right: 8px;
        }
        
        #cameraCanvas {
            display: none;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate {
            animation: fadeIn 1s ease forwards;
        }
        
        .animate-up {
            animation: slideUp 0.8s ease forwards;
        }
        
        .delay-1 {
            animation-delay: 0.2s;
        }
        
        .delay-2 {
            animation-delay: 0.4s;
        }
        
        .delay-3 {
            animation-delay: 0.6s;
        }
        
        /* Responsive Styles */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
            
            .stat-value {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                padding: 10px 20px;
            }
            
            .logo {
                margin-bottom: 15px;
            }
            
            .nav {
                width: 100%;
                justify-content: space-around;
            }
            
            .nav li {
                margin-left: 0;
            }
            
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .section {
                padding: 70px 20px;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .predict-container {
                padding: 30px 20px;
            }
            
            .disease-list {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .about-content {
                padding: 30px 20px;
            }
            
            .footer-links {
                flex-direction: column;
                gap: 10px;
            }
        }
        
        @media (max-width: 576px) {
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .hero-btn {
                padding: 12px 25px;
                font-size: 0.9rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .button-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
            
            .camera-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .camera-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="nav-container">
            <a href="#home" class="logo">
                <i class="fas fa-leaf"></i>ByteMuse<span>AI</span>
            </a>
            <ul class="nav">
                <li><a href="#home" class="active">Home</a></li>
                <li><a href="#predict">Predict</a></li>
                <li><a href="#diseases">Diseases</a></li>
                <li><a href="#accuracy">Accuracy</a></li>
                <li><a href="#about">About</a></li>
            </ul>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content animate">
            <h1 class="animate-up">Revolutionary Plant Disease Detection</h1>
            <p class="animate-up delay-1">Using advanced ML to identify plant diseases early and accurately, helping farmers protect their crops and increase yields.</p>
            <a href="#predict" class="hero-btn animate-up delay-2">
                <i class="fas fa-search"></i> Detect Disease Now
            </a>
        </div>
    </section>
    
    <div class="container">
        <!-- Predict Section -->
        <section class="section" id="predict">
            <h2 class="section-title">Upload Image for Disease Prediction</h2>
            <p class="section-subtitle">Simply upload an image of your plant leaves and our AI will analyze it for potential diseases.</p>
            
            <div class="predict-container">
                <form id="uploadForm" method="post" enctype="multipart/form-data">
                    <div class="upload-area">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p class="upload-text">Upload an image or capture using your camera</p>
                        <div class="button-group">
                            <label for="file-upload" class="btn btn-primary">
                                <i class="fas fa-cloud-upload-alt"></i> Upload Image
                            </label>
                            <button type="button" class="btn btn-secondary" id="openCameraBtn">
                                <i class="fas fa-camera"></i> Use Camera
                            </button>
                        </div>
                        <input id="file-upload" type="file" name="file" accept="image/*" required onchange="previewImage()">
                        <input type="hidden" id="cameraImage" name="cameraImage">
                    </div>
                    <img id="previewImg" src="" alt="Preview Image">
                    <button type="submit" class="btn btn-primary submit-btn">
                        <i class="fas fa-search"></i> Predict Disease
                    </button>
                </form>
            </div>
        </section>

        <!-- Diseases Section -->
        <section class="section" id="diseases">
            <h2 class="section-title">Diseases We Can Detect</h2>
            <p class="section-subtitle">Our advanced AI model can accurately identify these common plant diseases:</p>
            
            <div class="disease-list">
                <div class="disease-card animate delay-1">
                    <h3>Grape Black Rot</h3>
                    <p>A fungal disease that affects grapes during warm, humid weather.</p>
                </div>
                <div class="disease-card animate delay-1">
                    <h3>Grape Esca (Black Measles)</h3>
                    <p>A wood disease of grapevine characterized by leaf symptoms and wood decay.</p>
                </div>
                <div class="disease-card animate delay-2">
                    <h3>Grape Leaf Blight</h3>
                    <p>Also known as Isariopsis leaf spot, causes leaf spots and defoliation.</p>
                </div>
                <div class="disease-card animate delay-2">
                    <h3>Citrus Greening</h3>
                    <p>Also called Huanglongbing, a devastating disease of citrus plants.</p>
                </div>
                <div class="disease-card animate delay-3">
                    <h3>Potato Early Blight</h3>
                    <p>Caused by the fungus Alternaria solani, affects leaves and tubers.</p>
                </div>
                <div class="disease-card animate delay-3">
                    <h3>Potato Late Blight</h3>
                    <p>The infamous disease that caused the Irish potato famine.</p>
                </div>
                <div class="disease-card">
                    <h3>Strawberry Leaf Scorch</h3>
                    <p>Causes purple or brown spots on strawberry leaves.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Bacterial Spot</h3>
                    <p>Causes small, dark lesions on leaves, stems, and fruits.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Early Blight</h3>
                    <p>Characterized by concentric rings on leaves, like a target.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Late Blight</h3>
                    <p>Destructive disease causing water-soaked lesions on leaves.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Leaf Mold</h3>
                    <p>Fungal disease that thrives in high humidity conditions.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Septoria Leaf Spot</h3>
                    <p>Causes small, circular spots with gray centers on leaves.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Spider Mites</h3>
                    <p>Tiny pests that cause stippling and webbing on leaves.</p>
                </div>
                <div class="disease-card">
                    <h3>Tomato Yellow Leaf Curl Virus</h3>
                    <p>Viral disease that causes upward curling of leaves.</p>
                </div>
            </div>
        </section>

        <!-- Accuracy Section -->
        <section class="section" id="accuracy">
            <h2 class="section-title">Model Performance</h2>
            <p class="section-subtitle">Our deep learning model has been trained on thousands of images to achieve high accuracy in disease detection.</p>
            
            <div class="stats-container">
                <div class="stat-card animate">
                    <h3>Training Accuracy</h3>
                    <div class="stat-value">96.9%</div>
                    <p>Final accuracy achieved during training</p>
                </div>
                <div class="stat-card animate delay-1">
                    <h3>Validation Accuracy</h3>
                    <div class="stat-value">93.1%</div>
                    <p>Accuracy on unseen validation data</p>
                </div>
                <div class="stat-card animate delay-2">
                    <h3>Training Loss</h3>
                    <div class="stat-value">0.136</div>
                    <p>Final loss value during training</p>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="section" id="about">
            <h2 class="section-title">About ByteMuse AI</h2>
            <p class="section-subtitle">Innovative solutions for agricultural challenges</p>
            
            <div class="about-content">
                <div class="about-text">
                    <p>
                        ByteMuse is an AI technology company specializing in computer vision solutions for agriculture. 
                        Our plant disease identification system helps farmers and gardeners detect problems early, 
                        allowing for timely treatment and healthier crops.
                    </p>
                    <p>
                        Using state-of-the-art deep learning models, we've achieved industry-leading accuracy in 
                        plant disease detection across multiple crop types. Our mission is to make advanced AI 
                        technology accessible to everyone in the agricultural sector.
                    </p>
                    <a href="#predict" class="btn btn-primary" style="margin-top: 20px;">
                        <i class="fas fa-search"></i> Try Our System
                    </a>
                </div>
            </div>
        </section>
    </div>

    <!-- Camera Modal -->
    <div id="cameraModal">
        <div class="modal-content">
            <video id="cameraView" autoplay playsinline></video>
            <div class="camera-controls">
                <button id="captureBtn" class="camera-btn capture-btn">
                    <i class="fas fa-camera"></i> Capture
                </button>
                <button id="cancelCameraBtn" class="camera-btn cancel-btn">
                    <i class="fas fa-times"></i> Cancel
                </button>
            </div>
            <canvas id="cameraCanvas" style="display:none;"></canvas>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <a href="#home" class="footer-logo">
                <i class="fas fa-leaf"></i> ByteMuse AI
            </a>
            
            <div class="footer-links">
                <a href="#home">Home</a>
                <a href="#predict">Predict</a>
                <a href="#diseases">Diseases</a>
                <a href="#accuracy">Accuracy</a>
                <a href="#about">About</a>
              
            </div>
            
        
            
            <p class="copyright">&copy; 2023 ByteMuse AI. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 70,
                        behavior: 'smooth'
                    });
                    
                    // Update active nav link
                    document.querySelectorAll('.nav a').forEach(link => {
                        link.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Update URL without refreshing
                    history.pushState(null, null, targetId);
                }
            });
        });

        // Update active nav link on scroll
        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY;
            
            document.querySelectorAll('section').forEach(section => {
                const sectionTop = section.offsetTop - 100;
                const sectionHeight = section.offsetHeight;
                const sectionId = section.getAttribute('id');
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    document.querySelectorAll('.nav a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${sectionId}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
            
            // Header scroll effect
            if (window.scrollY > 50) {
                document.getElementById('header').classList.add('scrolled');
            } else {
                document.getElementById('header').classList.remove('scrolled');
            }
        });

        // Set initial active nav link based on URL hash
        window.addEventListener('load', () => {
            const hash = window.location.hash;
            if (hash) {
                const targetElement = document.querySelector(hash);
                if (targetElement) {
                    window.scrollTo(0, targetElement.offsetTop - 70);
                    document.querySelector(`.nav a[href="${hash}"]`).classList.add('active');
                }
            } else {
                document.querySelector('.nav a[href="#home"]').classList.add('active');
            }
            
            // Add animation classes to elements when they come into view
            const animateElements = document.querySelectorAll('.disease-card, .stat-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            animateElements.forEach(element => {
                observer.observe(element);
            });
        });

        // Preview uploaded image
        function previewImage() {
            var preview = document.getElementById('previewImg');
            var file = document.getElementById('file-upload').files[0];
            var reader = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
                preview.style.display = 'block';
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
                preview.style.display = 'none';
            }
        }

        // Camera functionality
        const cameraModal = document.getElementById('cameraModal');
        const openCameraBtn = document.getElementById('openCameraBtn');
        const cancelCameraBtn = document.getElementById('cancelCameraBtn');
        const captureBtn = document.getElementById('captureBtn');
        const cameraView = document.getElementById('cameraView');
        const cameraCanvas = document.getElementById('cameraCanvas');
        const previewImg = document.getElementById('previewImg');
        const cameraImage = document.getElementById('cameraImage');
        const fileUpload = document.getElementById('file-upload');

        let stream = null;

        // Open camera modal
        openCameraBtn.addEventListener('click', async () => {
            cameraModal.style.display = 'block';
            
            try {
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: 'environment',
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    }, 
                    audio: false 
                });
                cameraView.srcObject = stream;
            } catch (err) {
                console.error("Error accessing camera: ", err);
                alert("Could not access the camera. Please make sure you've granted camera permissions.");
                cameraModal.style.display = 'none';
            }
        });

        // Capture image from camera
        captureBtn.addEventListener('click', () => {
            if (!stream) return;
            
            const context = cameraCanvas.getContext('2d');
            cameraCanvas.width = cameraView.videoWidth;
            cameraCanvas.height = cameraView.videoHeight;
            context.drawImage(cameraView, 0, 0, cameraCanvas.width, cameraCanvas.height);
            
            // Convert canvas to data URL and set as preview image
            const imageDataUrl = cameraCanvas.toDataURL('image/jpeg');
            previewImg.src = imageDataUrl;
            previewImg.style.display = 'block';
            cameraImage.value = imageDataUrl;
            
            // Clear file upload if any
            fileUpload.value = '';
            
            // Stop camera and close modal
            stopCamera();
            cameraModal.style.display = 'none';
        });

        // Cancel camera
        cancelCameraBtn.addEventListener('click', () => {
            stopCamera();
            cameraModal.style.display = 'none';
        });

        // Stop camera stream
        function stopCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                stream = null;
                cameraView.srcObject = null;
            }
        }

        // Handle form submission
        document.getElementById('uploadForm').addEventListener('submit', function(e) {
            // You can add additional form validation here if needed
            console.log("Form submitted");
            // The actual submission would be handled by your backend
        });

        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            if (event.target === cameraModal) {
                stopCamera();
                cameraModal.style.display = 'none';
            }
        });
    </script>
</body>
</html>